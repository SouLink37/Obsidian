

### 1ï¸âƒ£ **è·¯ç”±ä¸ Handler**

- **è·¯ç”±**ï¼šå†³å®šè¯·æ±‚è·¯å¾„å’Œæ–¹æ³•ï¼Œè§¦å‘å¯¹åº”çš„ handler å‡½æ•°ã€‚
- **Handler**ï¼šå¤„ç†è¯·æ±‚å¹¶è¿”å›å“åº”ï¼Œå…¥å‚ä¸º `c *gin.Context`ã€‚

### 2ï¸âƒ£ **åŒ¿åå‡½æ•°**

```go
r.GET("/ping", func(c *gin.Context) {
    c.JSON(200, gin.H{"message": "pong"})
})
```

### 3ï¸âƒ£ **å‘½åå‡½æ•°**

```go
func PingHandler(c *gin.Context) {
    c.JSON(200, gin.H{"message": "pong"})
}

r.GET("/ping", PingHandler)
```

### 4ï¸âƒ£ **ç»“æ„ä½“æ–¹æ³•**

```go
type AuthHandler struct{}

func (h *AuthHandler) Register(c *gin.Context) {
    // æ³¨å†Œé€»è¾‘
}

r.POST("/register", authHandler.Register)
```

### 5ï¸âƒ£ **æ€»ç»“**

- **`c *gin.Context`**ï¼šæ‰€æœ‰ handler å‡½æ•°çš„æ ‡å‡†å…¥å‚ï¼Œå¤„ç†è¯·æ±‚ä¸å“åº”ã€‚
- **åŒ¿åå‡½æ•° / å‘½åå‡½æ•°**ï¼šéƒ½å¯ä»¥ç”¨ä½œè·¯ç”±çš„ handlerã€‚
- **è·¯ç”±å®šä¹‰**ï¼š`r.GET()`ã€`r.POST()` ç­‰å…³è”è·¯å¾„ä¸å¤„ç†å‡½æ•°ã€‚


# c.Set() vs c.JSON()

å¯ä»¥ç†è§£ä¸ºsetæ˜¯goä¸­çš„å†…éƒ¨æ²Ÿé€šï¼Œ jsonæ˜¯å¤–éƒ¨è¾“å‡º

### ğŸ“Œ æ€»ç»“

```
c.Set()      â† Go ä»£ç å†…éƒ¨æ²Ÿé€šï¼ˆServer â†” Serverï¼‰
             åœ¨æœåŠ¡å™¨å†…éƒ¨ä¼ é€’æ•°æ®

c.JSON()     â† å¤–éƒ¨è¾“å‡ºï¼ˆServer â†’ Clientï¼‰
             å‘é€ç»™å®¢æˆ·ç«¯çš„å“åº”
```

### ğŸ”„ å¯è§†åŒ–æµç¨‹

```
å®¢æˆ·ç«¯(Postman)
    â†“ è¯·æ±‚
    â†“
ğŸ–¥ï¸ æœåŠ¡å™¨ Go ä»£ç 
    â†“
middleware/auth.go
â”œâ”€ éªŒè¯ Token
â”œâ”€ c.Set("userID", 123)  â† å†…éƒ¨æ²Ÿé€š
â””â”€ c.Next()
    â†“
handlers/post.go
â”œâ”€ c.Get("userID")  â† è·å–ä¸­é—´ä»¶çš„ä¿¡æ¯ï¼ˆå†…éƒ¨æ²Ÿé€šï¼‰
â”œâ”€ åˆ›å»ºæ–‡ç« 
â””â”€ c.JSON(201, response)  â† å¤–éƒ¨è¾“å‡º
    â†“ å“åº”
    â†“
å®¢æˆ·ç«¯(Postman)æ”¶åˆ° JSON
```

### ğŸ“‹ å¯¹æ¯”

| | c.Set() | c.JSON() |
|------|---------|---------|
| **æ²Ÿé€šæ–¹å‘** | å†…éƒ¨ï¼ˆGo ä»£ç ä¹‹é—´ï¼‰ | å¤–éƒ¨ï¼ˆServer â†’ Clientï¼‰ |
| **è°èƒ½çœ‹åˆ°** | åªæœ‰åç»­ handler/middleware | å®¢æˆ·ç«¯ |
| **ç”¨é€”** | ä¼ é€’ä¸­é—´ä»¶çš„éªŒè¯ç»“æœ | è¿”å› API å“åº” |
| **ä¾‹å­** | `c.Set("userID", 123)` | `c.JSON(200, data)` |
